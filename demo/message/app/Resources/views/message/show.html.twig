<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RD5 - 線上留言</title>
</head>

<style>
th, td {
  padding: 10px;
}
th {
  text-align: left;
}
</style>

<h1>全部留言</h1>

{% if messages is not empty %}
<table class="table table-striped">
  <thead>
    <tr>
      <th>暱稱</th>
      <th>留言</th>
      <th>時間</th>
      <th>功能區</th>
    </tr>
  </thead>
  <tbody>
  {% for message in messages %}
  <tr>
    <td>{{ message.name }}</td>
    <td>{{ message.text }}</td>
    <td>{{ message.date|date('Y-m-d H:i:s') }}</td>
    <td>
      <a href="delete-message/{{ message.id }}" class="btn btn-outline-danger mr-2">刪除</a>
      <a href="update-message/{{ message.id }}" class="btn btn-outline-info mr-2">更新</a>
      <a href="show-reply/{{ message.id }}" class="btn btn-outline-primary mr-2">回覆區</a>
    </td>
  </tr>
  {% endfor %}
  </tbody>
</table>
{% else %}
  <p>找不到留言.</p>
{% endif %}

<br/>
<a href="/create-message" class="btn btn-outline btn-success mr-2">新增留言</a>